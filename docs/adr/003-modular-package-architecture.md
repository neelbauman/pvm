# 3. Modular Package Architecture

Date: 2026-02-04
Status: Accepted

## Context
初期の実装では、`src/pvm/__init__.py` という単一ファイルに全てのロジック（CLI定義、ファイル操作、設定管理）が集約されていた（God Object）。
今後テンプレート機能や設定管理機能を追加するにあたり、この構造では可読性とテスト容易性が著しく低下し、メンテナンスが困難になることが予想される。

## Decision
アプリケーションの責務を分離し、以下のモジュール構成へとリファクタリングする：

1. **`core.py`**: バージョン管理の純粋なビジネスロジック（CLI非依存）。
2. **`templates.py`**: テンプレートの読み込み・解決・登録ロジック。
3. **`config.py`**: パス解決、定数定義、環境設定。
4. **`main.py`**: CLIのエントリポイント（Typer定義）と、各モジュールの統合。

## Consequences
### Positive
* コードの見通しが良くなり、機能ごとの単体テスト（特に `core` ロジック）が書きやすくなる。
* 新規機能の追加や、特定機能の修正が他の部分に影響を与えにくくなる。

### Negative
* ファイル数が増加し、インポート関係の管理が必要になる。
